<div class="container">
  <h2>Update Food Item</h2>
  <form [formGroup]="foodForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        id="name"
        formControlName="name"
        class="form-control"
        [class.is-invalid]="foodForm.get('name')?.invalid && foodForm.get('name')?.touched"
      >
      <div class="invalid-feedback" *ngIf="foodForm.get('name')?.hasError('required')">
        Name is required
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        formControlName="description"
        class="form-control"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="category">Category</label>
      <select
        id="category"
        formControlName="category"
        class="form-control"
        [class.is-invalid]="foodForm.get('category')?.invalid && foodForm.get('category')?.touched"
      >
        <option value="" disabled>Select a category</option>
        <option *ngFor="let category of categories" [value]="category">{{category}}</option>
      </select>
      <div class="invalid-feedback" *ngIf="foodForm.get('category')?.hasError('required')">
        Category is required
      </div>
    </div>

    <div class="form-group">
      <label for="price">Price</label>
      <input
        type="number"
        id="price"
        formControlName="price"
        class="form-control"
        [class.is-invalid]="foodForm.get('price')?.invalid && foodForm.get('price')?.touched"
      >
      <div class="invalid-feedback" *ngIf="foodForm.get('price')?.hasError('required')">
        Price is required
      </div>
      <div class="invalid-feedback" *ngIf="foodForm.get('price')?.hasError('min')">
        Price must be greater than or equal to 0
      </div>
    </div>

    <div class="form-group">
      <label for="preparationTime">Preparation Time</label>
      <input
        type="text"
        id="preparationTime"
        formControlName="preparationTime"
        class="form-control"
      >
    </div>

    <div class="form-group">
      <label for="spiceLevel">Spice Level (0-5)</label>
      <input
        type="number"
        id="spiceLevel"
        formControlName="spiceLevel"
        class="form-control"
        min="0"
        max="5"
      >
    </div>

    <div class="form-group">
      <label>
        <input
          type="checkbox"
          formControlName="isAvailable"
        > Is Available
      </label>
    </div>

    <div class="form-group">
      <label for="images">Images (JPEG, PNG, GIF)</label>
      <input
        type="file"
        id="images"
        (change)="onFileChange($event)"
        multiple
        accept="image/jpeg,image/png,image/gif"
        class="form-control"
      >
    </div>

    <div class="image-preview" *ngIf="imagePreviews.length">
      <img *ngFor="let preview of imagePreviews" [src]="preview" alt="Preview">
    </div>

    <div class="button-group">
      <button type="submit" class="btn btn-primary" [disabled]="foodForm.invalid">Update Food</button>
      <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
    </div>
  </form>
</div>